name: Release

on:
  workflow_dispatch:
    inputs:
      release-type:
        description: "The scope of the release (major, minor or patch)."
        type: choice
        required: true
        default: patch
        options:
          - patch
          - minor
          - major

jobs:
  java-gradle-release:
    name: Java Gradle
    uses: bakdata/ci-templates/.github/workflows/java-gradle-release.yaml@1.67.2
    with:
      java-version: 17
      release-type: "${{ inputs.release-type }}"
    secrets:
      GOOGLE_WORKLOAD_IDENTITY_PROVIDER: ${{ secrets.GOOGLE_WORKLOAD_IDENTITY_PROVIDER }}
      GOOGLE_SERVICE_ACCOUNT: ${{ secrets.GOOGLE_SERVICE_ACCOUNT }}
      GOOGLE_PROJECT_ID: ${{ secrets.GOOGLE_PROJECT_ID }}
